// i18n.js 

window.I18N_DICT = {
	en: {
		'dashboard.title': 'Dashboard',
		'dashboard.back': 'Back',
		'dashboard.details': 'Details',
		'dashboard.copy': 'Copy',
		'dashboard.inviteLink': 'My Invitation Link',
		'dashboard.myPartners': 'My Partners',
		'dashboard.invitedBy': 'Invited by ID',
		'dashboard.upgrade': 'Upgrade',
		'dashboard.view': 'View',
		'dashboard.success': 'Success',
		'dashboard.failed': 'Failed',
		'dashboard.loading': 'Loading...',
		'dashboard.logout': 'Logout',
		'register.title': 'Register',
		'register.inviteId': 'Inviter ID',
		'register.connectWallet': 'Connect Wallet',
		'register.register': 'Register',
		'register.copySuccess': 'Invite link copied!',
		'register.copyFailed': 'Copy failed',
		'slotHistory.title': 'Slot History',
		'slotHistory.recentRewards': 'Recent Rewards',
		'slotHistory.noData': 'No reward history found.',
		'slotHistory.back': 'Back',
		'partners.title': 'My Partners',
		'partners.noData': 'No new partners yet.',
		'partners.details': 'Details',
		'partners.myPartners': 'My Partners',
		'partners.invitedBy': 'Invited by ID',
		'partners.vip': 'T',
		'partners.id': 'ID',
		'back': 'Back',
		'newPartners': 'New Partners',
		'view': 'View',
		'upgrade': 'Upgrade',
		'from': 'From',
		'dividend': 'Dividend',
		'clear': 'Clear',
		'directPartnerTip': 'Direct partner - Direct partner occupying a slot in your level',
		'overflowTip': "Overflow from below - Your downline's partner occupying a slot in your level",
		'noBonusTip': 'No bonus generated',
		'walletAddress': 'Wallet Address',
		'tips': 'Tips',
		'registerPayTip': 'Register and pay 0.1 BNB to upgrade to T1 member',
		'availableBalance': 'Available balance',
		'dashboard.tokenBalance': 'Balance',
		'dashboard.stake': 'Stake',
		'stake.title': 'Stake',
		'stake.tokenBalance': 'Token Balance',
		'stake.stakingOverview': 'Staking Overview',
		'stake.stakedAmount': 'Staked Amount',
		'stake.pendingInterest': 'Pending Interest',
		'stake.apr': 'APR',
		'stake.maxStakeLimit': 'Available Stake Limit',
		'stake.stakingActions': 'Staking Actions',
		'stake.stakeAmount': 'Stake Amount(min 10000 TAURUS)',
		'stake.max': 'MAX',
		'stake.stake': 'Stake',
		'stake.withdrawPrincipal': 'Withdraw',
		'stake.claimInterest': 'Claim',
		'stake.withdrawSection': 'Withdraw',
		'stake.back': 'Back',
		'stake.feeTip': '5% interest will be deducted when withdrawing.',
		'stake.totalInterestClaimed': 'Total Interest Claimed',
		'stake.minStakeError': 'Minimum stake amount is {min} TAURUS',
		'stake.maxStakeError': 'Maximum stake amount is {max} TAURUS',
		'stake.enterValidAmount': 'Please enter a valid amount',
		'stake.connectWallet': 'Please connect your wallet',
		'stake.approvingTokens': 'Approving tokens...',
		'stake.stakingTokens': 'Staking tokens...',
		'stake.stakeSuccessful': 'Stake successful!',
		'stake.transactionRejected': 'Transaction rejected by user',
		'stake.stakeFailed': 'Stake failed: {error}',
		'stake.noPrincipalToWithdraw': 'No principal to withdraw',
		'stake.withdrawingPrincipal': 'Withdrawing principal...',
		'stake.withdrawSuccessful': 'Withdraw successful!',
		'stake.withdrawFailed': 'Withdraw failed: {error}',
		'stake.noInterestToClaim': 'No interest to claim',
		'stake.claimingInterest': 'Claiming interest...',
		'stake.interestClaimedSuccessfully': 'Interest claimed successfully!',
		'stake.claimFailed': 'Claim failed: {error}',
		'stake.unknownError': 'Unknown error'
	},
	zh: {
		'dashboard.title': '仪表盘',
		'dashboard.back': '返回',
		'dashboard.details': '详情',
		'dashboard.copy': '复制',
		'dashboard.inviteLink': '我的邀请链接',
		'dashboard.myPartners': '我的伙伴',
		'dashboard.invitedBy': '邀请人ID',
		'dashboard.upgrade': '升级',
		'dashboard.view': '查看',
		'dashboard.success': '成功',
		'dashboard.failed': '失败',
		'dashboard.loading': '加载中...',
		'dashboard.logout': '退出登录',
		'register.title': '注册',
		'register.inviteId': '邀请人ID',
		'register.connectWallet': '连接钱包',
		'register.register': '注册',
		'register.copySuccess': '已复制',
		'register.copyFailed': '复制失败',
		'slotHistory.title': '插槽历史',
		'slotHistory.recentRewards': '最近奖励',
		'slotHistory.noData': '暂无奖励记录。',
		'slotHistory.back': '返回',
		'partners.title': '我的伙伴',
		'partners.noData': '暂无新伙伴。',
		'partners.details': '详情',
		'partners.myPartners': '我的伙伴',
		'partners.invitedBy': '邀请人ID',
		'partners.vip': 'T',
		'partners.id': 'ID',
		'back': '返回',
		'newPartners': '新伙伴',
		'view': '查看',
		'upgrade': '升级',
		'from': '来自',
		'dividend': '分红',
		'clear': '清空',
		'directPartnerTip': '直接合作伙伴-在您的级别中占据位置的直接合作伙伴',
		'overflowTip': '来自下方的溢出-您的下线的合作伙伴在您的级别中占据位置',
		'noBonusTip': '未产生分红',
		'walletAddress': '钱包地址',
		'tips': '提示',
		'registerPayTip': '注册并支付0.1 BNB升级为T1会员',
		'availableBalance': '可用余额',
		'dashboard.tokenBalance': '余额',
		'dashboard.stake': '质押',
		'stake.title': '质押',
		'stake.tokenBalance': '代币余额',
		'stake.stakingOverview': '质押概览',
		'stake.stakedAmount': '质押金额',
		'stake.pendingInterest': '待领取利息',
		'stake.apr': '年化收益率',
		'stake.maxStakeLimit': '可质押额度',
		'stake.stakingActions': '质押操作',
		'stake.stakeAmount': '质押数量（最小10000 TAURUS）',
		'stake.max': '最大',
		'stake.stake': '质押',
		'stake.withdrawPrincipal': '提取本金和利息',
		'stake.claimInterest': '领取利息',
		'stake.withdrawSection': '提取',
		'stake.back': '返回',
		'stake.feeTip': '提取时扣除5%的利息',
		'stake.totalInterestClaimed': '累计领取利息',
		'stake.minStakeError': '最小质押金额为 {min} TAURUS',
		'stake.maxStakeError': '最大质押金额为 {max} TAURUS',
		'stake.enterValidAmount': '请输入有效金额',
		'stake.connectWallet': '请连接您的钱包',
		'stake.approvingTokens': '正在授权代币...',
		'stake.stakingTokens': '正在质押代币...',
		'stake.stakeSuccessful': '质押成功！',
		'stake.transactionRejected': '用户拒绝交易',
		'stake.stakeFailed': '质押失败：{error}',
		'stake.noPrincipalToWithdraw': '没有可提取的本金',
		'stake.withdrawingPrincipal': '正在提取本金...',
		'stake.withdrawSuccessful': '提取成功！',
		'stake.withdrawFailed': '提取失败：{error}',
		'stake.noInterestToClaim': '没有可领取的利息',
		'stake.claimingInterest': '正在领取利息...',
		'stake.interestClaimedSuccessfully': '利息领取成功！',
		'stake.claimFailed': '领取失败：{error}',
		'stake.unknownError': '未知错误'
	},
	ko: {
		'dashboard.title': '대시보드',
		'dashboard.back': '뒤로',
		'dashboard.details': '상세',
		'dashboard.copy': '복사',
		'dashboard.inviteLink': '내 초대 링크',
		'dashboard.myPartners': '내 파트너',
		'dashboard.invitedBy': '초대한 ID',
		'dashboard.upgrade': '업그레이드',
		'dashboard.view': '보기',
		'dashboard.success': '성공',
		'dashboard.failed': '실패',
		'dashboard.loading': '로딩 중...',
		'dashboard.logout': '로그아웃',
		'register.title': '회원가입',
		'register.inviteId': '초대한 ID',
		'register.connectWallet': '지갑 연결',
		'register.register': '회원가입',
		'register.copySuccess': '초대 링크가 복사되었습니다!',
		'register.copyFailed': '복사 실패',
		'slotHistory.title': '슬롯 내역',
		'slotHistory.recentRewards': '최근 보상',
		'slotHistory.noData': '보상 내역이 없습니다.',
		'slotHistory.back': '뒤로',
		'partners.title': '내 파트너',
		'partners.noData': '새 파트너가 없습니다.',
		'partners.details': '상세',
		'partners.myPartners': '내 파트너',
		'partners.invitedBy': '초대한 ID',
		'partners.vip': 'T',
		'partners.id': 'ID',
		'back': '뒤로',
		'newPartners': '새 파트너',
		'view': '보기',
		'upgrade': '업그레이드',
		'from': '보낸 사람',
		'dividend': '배당',
		'clear': '초기화',
		'directPartnerTip': '직접 파트너 - 직접 파트너가 내 레벨의 슬롯을 점유',
		'overflowTip': '아래에서 오버플로우 - 내 하위 파트너가 내 레벨의 슬롯을 점유',
		'noBonusTip': '보너스 없음',
		'walletAddress': '지갑 주소',
		'tips': '팁',
		'registerPayTip': '회원가입 및 0.1 BNB 결제로 T1 멤버로 업그레이드',
		'availableBalance': '사용 가능 잔액',
		'dashboard.tokenBalance': '잔액',
		'dashboard.stake': '스테이킹',
		'stake.title': '스테이킹',
		'stake.tokenBalance': '토큰 잔액',
		'stake.stakingOverview': '스테이킹 개요',
		'stake.stakedAmount': '스테이킹 금액',
		'stake.pendingInterest': '대기 중인 이자',
		'stake.apr': '연간 수익률',
		'stake.maxStakeLimit': '사용 가능한 스테이킹 한도',
		'stake.stakingActions': '스테이킹 작업',
		'stake.stakeAmount': '스테이킹 금액',
		'stake.max': '최대',
		'stake.stake': '스테이킹',
		'stake.withdrawPrincipal': '원금과 이자 인출',
		'stake.claimInterest': '이자 청구',
		'stake.withdrawSection': '인출',
		'stake.back': '뒤로',
		'stake.feeTip': '출금 시 5% 이자가 공제됩니다.',
		'stake.totalInterestClaimed': '총 청구된 이자',
		'stake.minStakeError': '최소 스테이킹 금액은 {min} TAURUS입니다',
		'stake.maxStakeError': '최대 스테이킹 금액은 {max} TAURUS입니다',
		'stake.enterValidAmount': '유효한 금액을 입력하세요',
		'stake.connectWallet': '지갑을 연결하세요',
		'stake.approvingTokens': '토큰 승인 중...',
		'stake.stakingTokens': '토큰 스테이킹 중...',
		'stake.stakeSuccessful': '스테이킹 성공!',
		'stake.transactionRejected': '사용자가 거래를 거부했습니다',
		'stake.stakeFailed': '스테이킹 실패: {error}',
		'stake.noPrincipalToWithdraw': '인출할 원금이 없습니다',
		'stake.withdrawingPrincipal': '원금 인출 중...',
		'stake.withdrawSuccessful': '인출 성공!',
		'stake.withdrawFailed': '인출 실패: {error}',
		'stake.noInterestToClaim': '청구할 이자가 없습니다',
		'stake.claimingInterest': '이자 청구 중...',
		'stake.interestClaimedSuccessfully': '이자 청구 성공!',
		'stake.claimFailed': '청구 실패: {error}',
		'stake.unknownError': '알 수 없는 오류'
	},
	zh_tw: {
		'dashboard.title': '儀表板',
		'dashboard.back': '返回',
		'dashboard.details': '詳情',
		'dashboard.copy': '複製',
		'dashboard.inviteLink': '我的邀請連結',
		'dashboard.myPartners': '我的夥伴',
		'dashboard.invitedBy': '邀請人ID',
		'dashboard.upgrade': '升級',
		'dashboard.view': '查看',
		'dashboard.success': '成功',
		'dashboard.failed': '失敗',
		'dashboard.loading': '加載中...',
		'dashboard.logout': '登出',
		'register.title': '註冊',
		'register.inviteId': '邀請人ID',
		'register.connectWallet': '連接錢包',
		'register.register': '註冊',
		'register.copySuccess': '邀請連結已複製！',
		'register.copyFailed': '複製失敗',
		'slotHistory.title': '插槽歷史',
		'slotHistory.recentRewards': '最近獎勵',
		'slotHistory.noData': '暫無獎勵記錄。',
		'slotHistory.back': '返回',
		'partners.title': '我的夥伴',
		'partners.noData': '暫無新夥伴。',
		'partners.details': '詳情',
		'partners.myPartners': '我的夥伴',
		'partners.invitedBy': '邀請人ID',
		'partners.vip': 'T',
		'partners.id': 'ID',
		'back': '返回',
		'newPartners': '新夥伴',
		'view': '查看',
		'upgrade': '升級',
		'from': '來自',
		'dividend': '分紅',
		'clear': '清空',
		'directPartnerTip': '直推夥伴 - 直推夥伴佔據你本級別的插槽',
		'overflowTip': '下溢 - 你的下級夥伴佔據你本級別的插槽',
		'noBonusTip': '未產生分紅',
		'walletAddress': '錢包地址',
		'tips': '提示',
		'registerPayTip': '註冊並支付0.1 BNB升級為T1會員',
		'availableBalance': '可用餘額',
		'dashboard.tokenBalance': '餘額',
		'dashboard.stake': '質押',
		'stake.title': '質押',
		'stake.tokenBalance': '代幣餘額',
		'stake.stakingOverview': '質押概覽',
		'stake.stakedAmount': '質押金額',
		'stake.pendingInterest': '待領取利息',
		'stake.apr': '年化收益率',
		'stake.maxStakeLimit': '可質押額度',
		'stake.stakingActions': '質押操作',
		'stake.stakeAmount': '質押數量',
		'stake.max': '最大',
		'stake.stake': '質押',
		'stake.withdrawPrincipal': '領取本金和利息',
		'stake.claimInterest': '領取利息',
		'stake.withdrawSection': '提取',
		'stake.back': '返回',
		'stake.feeTip': '提取時扣除5%的利息',
		'stake.totalInterestClaimed': '累計領取利息',
		'stake.minStakeError': '最小質押金額為 {min} TAURUS',
		'stake.maxStakeError': '最大質押金額為 {max} TAURUS',
		'stake.enterValidAmount': '請輸入有效金額',
		'stake.connectWallet': '請連接您的錢包',
		'stake.approvingTokens': '正在授權代幣...',
		'stake.stakingTokens': '正在質押代幣...',
		'stake.stakeSuccessful': '質押成功！',
		'stake.transactionRejected': '用戶拒絕交易',
		'stake.stakeFailed': '質押失敗：{error}',
		'stake.noPrincipalToWithdraw': '沒有可提取的本金',
		'stake.withdrawingPrincipal': '正在提取本金...',
		'stake.withdrawSuccessful': '提取成功！',
		'stake.withdrawFailed': '提取失敗：{error}',
		'stake.noInterestToClaim': '沒有可領取的利息',
		'stake.claimingInterest': '正在領取利息...',
		'stake.interestClaimedSuccessfully': '利息領取成功！',
		'stake.claimFailed': '領取失敗：{error}',
		'stake.unknownError': '未知錯誤'
	}
};

function t(key) {
	const lang = localStorage.getItem('lang') || 'en';
	const dict = window.I18N_DICT[lang] || window.I18N_DICT['en'];
	return dict[key] || key;
}

function applyI18n(lang) {
	const dict = window.I18N_DICT[lang] || window.I18N_DICT['en'];
	document.querySelectorAll('[data-i18n]').forEach(el => {
		const key = el.getAttribute('data-i18n');
		if (dict[key]) el.textContent = dict[key];
	});
	localStorage.setItem('lang', lang);
}


window.addEventListener('DOMContentLoaded', function() {
	const userLang = localStorage.getItem('lang') || 'en';
	applyI18n(userLang);

	document.querySelectorAll('.lang-btn').forEach(btn => {
		btn.classList.toggle('active', btn.dataset.lang === userLang);
		btn.onclick = function() {
			const lang = btn.dataset.lang;
			localStorage.setItem('lang', lang);
			document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
			btn.classList.add('active');
			const dropdown = document.querySelector('.lang-dropdown');
			if(dropdown) dropdown.classList.remove('open');
			window.location.reload();
		};
	});


	const langDropdownBtn = document.getElementById('langDropdownBtn');
	const langDropdown = langDropdownBtn ? langDropdownBtn.closest('.lang-dropdown') : null;
	if(langDropdownBtn && langDropdown) {
		langDropdownBtn.addEventListener('click', function(e) {
			e.stopPropagation();
			langDropdown.classList.toggle('open');
		});
		document.addEventListener('click', function(e) {
			if (!langDropdown.contains(e.target)) {
				langDropdown.classList.remove('open');
			}
		});
	}
});


window.t = t; 
